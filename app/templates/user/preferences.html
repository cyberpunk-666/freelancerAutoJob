{% extends 'layout/layout.html' %} {% from 'components/form_macros.html' import render_form_field %} {% block content %}
<div class="container mt-4">
    <h1 class="mb-4">User Preferences</h1>

    <form id="preferences-form">
        {% for category, prefs in preferences_by_category.items() %}
        <div class="card mb-4">
            <div class="card-header">
                <h2 class="card-title">{{ category }}</h2>
            </div>
            <div class="card-body">
                {% for pref in prefs %}
                <div class="mb-3">{{ render_form_field(pref, user_preferences.get(pref.key)) }}</div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </form>

    <button id="save-btn" class="btn btn-primary mb-4">Save Preferences</button>
</div>

<script src="{{ url_for('static', filename='js/preferences.js') }}"></script>
{% endblock %}
